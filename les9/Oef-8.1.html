<!DOCTYPE html>
<html lang="nl">
	<head>
		<meta charset="utf-8" />
		<title>Oef 8.1</title>
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" >
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
		<script type="text/javascript" src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<script type="text/javascript">
			$(document).ready(function() {

				$("#zoek").click(function() {
					var zoekterm = $("#zoekterm").val();
					var flickrUrl = "http://api.flickr.com/services/feeds/photos_public.gne?format=json&tags=";

					$.ajax({
						dataType : 'JSON',
						type : 'GET',
						url : flickrUrl + zoekterm + '&jsoncallback=?',
						success : verwerkJSON
					});

					function verwerkJSON(response) {

						$("#fotos").html("");

						for (var i = 0; i < response.items.length; i++) {
							var foto = response.items[i];
							var html = "<div class='frame'><div class='image'><a href='" + foto.link + "'><img src='" + foto.media.m + "' alt='" + foto.title + "' /></a></div><h2>" + foto.title + "</h2></div>";
							$("#fotos").append(html);

						}
						$("#bron").attr("href", response.link).text("Bron: Flickr");
						$("#titel").text(response.title);
					}

				});

			});

		</script>
	</head>

	<body>
		<div data-role="page" id="home">
			<div data-role="header">
				<h1>Jquery - de basis- Foto's</h1>
			</div>
			<div data-role="content">
				<p>
					zoekterm:
					<input type="text" id="zoekterm">
					<input type="button" value="zoek" id="zoek">
					<br>
					<strong id="titel"> </strong>
				</p>
				<div id="fotos">

				</div>
				<p>
					<a id="bron" href=""> </a>
				</p>
			</div>
			<div data-role="footer">
				<h4>Laats bijgewerkt op: <span id="updateTijd">&nbsp;</span></h4>
			</div>

		</div>

	</body>
</html>
